<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="773px" preserveAspectRatio="none" style="width:677px;height:773px;background:#FEFEFE;" version="1.1" viewBox="0 0 677 773" width="677px" zoomAndPan="magnify"><title>Filament Unload Sequence (FF11)</title><defs/><g><rect fill="#FEFEFE" height="773" style="stroke:none;stroke-width:1;" width="677" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="224.8135" x="222.4678" y="28.1318">Filament Unload Sequence (FF11)</text><rect fill="none" height="153.6924" style="stroke:#000000;stroke-width:1.5;" width="524.4434" x="102.1748" y="342.937"/><g><title>GCode</title><rect fill="#000000" fill-opacity="0.00000" height="632.9746" width="8" x="30.1792" y="89.2959"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="34" x2="34" y1="89.2959" y2="722.2705"/></g><g><title>box</title><rect fill="#000000" fill-opacity="0.00000" height="632.9746" width="8" x="156.7954" y="89.2959"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="160.1748" x2="160.1748" y1="89.2959" y2="722.2705"/></g><g><title>serial_485</title><rect fill="#000000" fill-opacity="0.00000" height="632.9746" width="8" x="391.0425" y="89.2959"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="394.7427" x2="394.7427" y1="89.2959" y2="722.2705"/></g><g><title>Material</title><rect fill="#000000" fill-opacity="0.00000" height="632.9746" width="8" x="531.7188" y="89.2959"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="535.0498" x2="535.0498" y1="89.2959" y2="722.2705"/></g><g class="participant participant-head" data-participant="GCode"><rect fill="#E2E2F0" height="46.1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58.3584" x="5" y="42.0986"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.3584" x="12" y="62.2305">GCode</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8965" x="14.731" y="78.3291">Macro</text></g><g class="participant participant-tail" data-participant="GCode"><rect fill="#E2E2F0" height="46.1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58.3584" x="5" y="721.2705"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.3584" x="12" y="741.4023">GCode</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8965" x="14.731" y="757.501">Macro</text></g><g class="participant participant-head" data-participant="Box"><rect fill="#E2E2F0" height="46.1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2412" x="112.1748" y="42.0986"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5723" x="149.5093" y="62.2305">box</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2412" x="119.1748" y="78.3291">(MaterialBox)</text></g><g class="participant participant-tail" data-participant="Box"><rect fill="#E2E2F0" height="46.1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2412" x="112.1748" y="721.2705"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5723" x="149.5093" y="741.4023">box</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2412" x="119.1748" y="757.501">(MaterialBox)</text></g><g class="participant participant-head" data-participant="Serial"><rect fill="#E2E2F0" height="30.0986" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78.5996" x="355.7427" y="58.1973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5996" x="362.7427" y="78.3291">serial_485</text></g><g class="participant participant-tail" data-participant="Serial"><rect fill="#E2E2F0" height="30.0986" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78.5996" x="355.7427" y="721.2705"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5996" x="362.7427" y="741.4023">serial_485</text></g><g class="participant participant-head" data-participant="HW"><rect fill="#E2E2F0" height="46.1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.3379" x="503.0498" y="42.0986"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="510.8223" y="62.2305">Material</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3379" x="510.0498" y="78.3291">Box HW</text></g><g class="participant participant-tail" data-participant="HW"><rect fill="#E2E2F0" height="46.1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.3379" x="503.0498" y="721.2705"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="510.8223" y="741.4023">Material</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3379" x="510.0498" y="757.501">Box HW</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="670.749" x="0" y="119.7703"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="670.749" y1="119.7703" y2="119.7703"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="670.749" y1="122.7703" y2="122.7703"/><rect fill="#EEEEEE" height="22.9487" style="stroke:#000000;stroke-width:2;" width="92.7236" x="289.0127" y="109.2959"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="75.1118" x="295.0127" y="125.4897">Initialization</text><g class="message" data-participant-1="GCode" data-participant-2="Box"><polygon fill="#181818" points="148.7954,159.1934,158.7954,163.1934,148.7954,167.1934,152.7954,163.1934" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.1792" x2="154.7954" y1="163.1934" y2="163.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6162" x="41.1792" y="158.4385">box_quit_material</text></g><g class="message" data-participant-1="Box" data-participant-2="Serial"><polygon fill="#181818" points="383.0425,188.1421,393.0425,192.1421,383.0425,196.1421,387.0425,192.1421" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="160.7954" x2="389.0425" y1="192.1421" y2="192.1421"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.0889" x="167.7954" y="187.3872">cmd_send(FF11 01 00) POLLING</text></g><g class="message" data-participant-1="Serial" data-participant-2="HW"><polygon fill="#181818" points="523.7188,217.0908,533.7188,221.0908,523.7188,225.0908,527.7188,221.0908" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="395.0425" x2="529.7188" y1="221.0908" y2="221.0908"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9199" x="402.0425" y="216.3359">RS-485 frame</text></g><g class="message" data-participant-1="HW" data-participant-2="Serial"><polygon fill="#181818" points="406.0425,246.0396,396.0425,250.0396,406.0425,254.0396,402.0425,250.0396" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="400.0425" x2="534.7188" y1="250.0396" y2="250.0396"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.6763" x="412.0425" y="245.2847">ACK (status=BUSY)</text></g><path d="M540,263.0396 L540,287.0396 L665,287.0396 L665,273.0396 L655,263.0396 L540,263.0396" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M655,263.0396 L655,273.0396 L665,273.0396 L655,263.0396" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.749" x="546" y="280.2334">Start retract motor</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="670.749" x="0" y="313.4626"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="670.749" y1="313.4626" y2="313.4626"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="670.749" y1="316.4626" y2="316.4626"/><rect fill="#EEEEEE" height="22.9487" style="stroke:#000000;stroke-width:2;" width="212.3135" x="229.2178" y="302.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="194.7017" x="235.2178" y="319.1821">Retract Polling (~5-7s intervals)</text><path d="M102.1748,342.937 L174.6094,342.937 L174.6094,349.8857 L164.6094,359.8857 L102.1748,359.8857 L102.1748,342.937" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="153.6924" style="stroke:#000000;stroke-width:1.5;" width="524.4434" x="102.1748" y="342.937"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="117.1748" y="356.1309">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.936" x="189.6094" y="355.2549">[Every 5-7 seconds]</text><g class="message" data-participant-1="Box" data-participant-2="Serial"><polygon fill="#181818" points="383.0425,376.8345,393.0425,380.8345,383.0425,384.8345,387.0425,380.8345" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="160.7954" x2="389.0425" y1="380.8345" y2="380.8345"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.0889" x="167.7954" y="376.0796">cmd_send(FF11 01 00) POLLING</text></g><g class="message" data-participant-1="Serial" data-participant-2="HW"><polygon fill="#181818" points="523.7188,405.7832,533.7188,409.7832,523.7188,413.7832,527.7188,409.7832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="395.0425" x2="529.7188" y1="409.7832" y2="409.7832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9199" x="402.0425" y="405.0283">RS-485 frame</text></g><g class="message" data-participant-1="HW" data-participant-2="Serial"><polygon fill="#181818" points="406.0425,434.7319,396.0425,438.7319,406.0425,442.7319,402.0425,438.7319" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="400.0425" x2="534.7188" y1="438.7319" y2="438.7319"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.6763" x="412.0425" y="433.9771">status=BUSY</text></g><path d="M540,451.7319 L540,490.7319 L616,490.7319 L616,461.7319 L606,451.7319 L540,451.7319" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M606,451.7319 L606,461.7319 L616,461.7319 L606,451.7319" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6182" x="546" y="468.9258">Motor still</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.1899" x="546" y="483.8745">retracting</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="670.749" x="0" y="524.1038"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="670.749" y1="524.1038" y2="524.1038"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="670.749" y1="527.1038" y2="527.1038"/><rect fill="#EEEEEE" height="22.9487" style="stroke:#000000;stroke-width:2;" width="172.9072" x="248.9209" y="513.6294"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="155.2954" x="254.9209" y="529.8232">Completion (10-23s total)</text><g class="message" data-participant-1="Box" data-participant-2="Serial"><polygon fill="#181818" points="383.0425,563.5269,393.0425,567.5269,383.0425,571.5269,387.0425,567.5269" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="160.7954" x2="389.0425" y1="567.5269" y2="567.5269"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.2471" x="167.7954" y="562.772">cmd_send(FF11 01 01) COMPLETE</text></g><g class="message" data-participant-1="Serial" data-participant-2="HW"><polygon fill="#181818" points="523.7188,592.4756,533.7188,596.4756,523.7188,600.4756,527.7188,596.4756" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="395.0425" x2="529.7188" y1="596.4756" y2="596.4756"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9199" x="402.0425" y="591.7207">RS-485 frame</text></g><g class="message" data-participant-1="HW" data-participant-2="Serial"><polygon fill="#181818" points="406.0425,621.4243,396.0425,625.4243,406.0425,629.4243,402.0425,625.4243" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="400.0425" x2="534.7188" y1="625.4243" y2="625.4243"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.0581" x="412.0425" y="620.6694">status=OK</text></g><path d="M540,638.4243 L540,677.4243 L651,677.4243 L651,648.4243 L641,638.4243 L540,638.4243" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M641,638.4243 L641,648.4243 L651,648.4243 L641,638.4243" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.5781" x="546" y="655.6182">Filament fully</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3271" x="546" y="670.5669">retracted to box</text><g class="message" data-participant-1="Box" data-participant-2="GCode"><polygon fill="#181818" points="45.1792,700.2705,35.1792,704.2705,45.1792,708.2705,41.1792,704.2705" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="39.1792" x2="159.7954" y1="704.2705" y2="704.2705"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5571" x="51.1792" y="699.5156">Unload complete</text></g><!--SRC=[bPDFJ-Cm4CNl_XGZzf8S8hNy4QjAGLgYbYBQRKKMLKYLAfEunSBn57k2W0EVVSTkGHHMYqXoIFoUn- -NiKcJKJ3GHZRA4bnPWxA6KjstobOAai6Wsqs5lzDsBPriu4PMTok7hQqBDEZWnw0VRY5O9btfjUGgUsS5rcfknx9ok0VIGnpOzTpWuzmcOqdAQMbEyJ6DJdxPzVceBmv_7aMzZ9-xbjSYSykpOJYBnk5CY3o7Swk99VqiIQE5F1Sn2sGdOQaUS8p5VQjfqMoBY523rSr2FQYQUk6LhUElW0u_dHIcaz7e_FUPs9Y2VJZhmMMPSKnOyezIOZY3x5sPNyK599uajJu_lIglKs6H53YzkYN0PPnV4bE1K-HaHT0WeOiCbzkHAHgZxGgIbwFis8EsdFX16fy6B8EuXlw3Sa_0AdXLeQsz0Bw-GnJy_w4AyWUoTr1H_imr3YJiquPRjCLZ3i4P8b-1pTges9-asyds3pmGaZIHwylmtHIAoNWwwl_fVwCVszIJYt_quUquB5jZdjuYgvfZXGqZDg6uMjnBlTTZKsqubFWB]--></g></svg>